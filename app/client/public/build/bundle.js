var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function a(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}const s="undefined"!=typeof window;let l=s?()=>window.performance.now():()=>Date.now(),d=s?t=>requestAnimationFrame(t):t;const m=new Set;function f(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&d(f)}function h(t,e){t.appendChild(e)}function p(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function y(t){const e=b("style");return function(t,e){h(t.head||t,e)}(p(t),e),e.sheet}function v(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function x(){return $(" ")}function _(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e,n){t.classList[n?"add":"remove"](e)}const E=new Map;let q,C=0;function S(t,e,n,o,r,i,u,c=0){const a=16.666/o;let s="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*i(t);s+=100*t+`%{${u(o,1-o)}}\n`}const l=s+`100% {${u(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${c}`,m=p(t),{stylesheet:f,rules:h}=E.get(m)||function(t,e){const n={stylesheet:y(e),rules:{}};return E.set(t,n),n}(m,t);h[d]||(h[d]=!0,f.insertRule(`@keyframes ${d} ${l}`,f.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${d} ${o}ms linear ${r}ms 1 both`,C+=1,d}function M(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),C-=r,C||d((()=>{C||(E.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),E.clear())})))}function I(t){q=t}function B(){if(!q)throw new Error("Function called outside component initialization");return q}const T=[],D=[],L=[],P=[],j=Promise.resolve();let F=!1;function A(t){L.push(t)}const N=new Set;let O,R=0;function H(){const t=q;do{for(;R<T.length;){const t=T[R];R++,I(t),z(t.$$)}for(I(null),T.length=0,R=0;D.length;)D.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];N.has(e)||(N.add(e),e())}L.length=0}while(T.length);for(;P.length;)P.pop()();F=!1,N.clear(),I(t)}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(A)}}function G(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const J=new Set;let U;function V(t,e){t&&t.i&&(J.delete(t),t.i(e))}const Y={duration:0};function K(n,o,r){let u,c,a=o(n,r),s=!1,h=0;function p(){u&&M(n,u)}function y(){const{delay:o=0,duration:r=300,easing:i=e,tick:y=t,css:v}=a||Y;v&&(u=S(n,0,1,r,o,i,v,h++)),y(0,1);const g=l()+o,b=g+r;c&&c.abort(),s=!0,A((()=>G(n,!0,"start"))),c=function(t){let e;return 0===m.size&&d(f),{promise:new Promise((n=>{m.add(e={c:t,f:n})})),abort(){m.delete(e)}}}((t=>{if(s){if(t>=b)return y(1,0),G(n,!0,"end"),p(),s=!1;if(t>=g){const e=i((t-g)/r);y(e,1-e)}}return s}))}let v=!1;return{start(){v||(v=!0,M(n),i(a)?(a=a(),(O||(O=Promise.resolve(),O.then((()=>{O=null}))),O).then(y)):y())},invalidate(){v=!1},end(){s&&(p(),s=!1)}}}function Q(t,e){const n=e.token={};function o(t,o,i,u){if(e.token!==n)return;e.resolved=u;let c=e.ctx;void 0!==i&&(c=c.slice(),c[i]=u);const a=t&&(e.current=t)(c);let s=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(U={r:0,c:[],p:U},function(t,e,n,o){if(t&&t.o){if(J.has(t))return;J.add(t),U.c.push((()=>{J.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),U.r||r(U.c),U=U.p)})):e.block.d(1),a.c(),V(a,1),a.m(e.mount(),e.anchor),s=!0),e.block=a,e.blocks&&(e.blocks[o]=a),s&&H()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=B();if(t.then((t=>{I(n),o(e.then,1,e.value,t),I(null)}),(t=>{if(I(n),o(e.catch,2,e.error,t),I(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var i}function W(t,e){-1===t.$$.dirty[0]&&(T.push(t),F||(F=!0,j.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,u,c,a,s,l,d,m=[-1]){const f=q;I(e);const h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(f?f.$$.context:[])),callbacks:o(),dirty:m,skip_bound:!1,root:u.target||f.$$.root};d&&d(h.root);let p=!1;if(h.ctx=c?c(e,u.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&W(e,t)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),u.target){if(u.hydrate){const t=function(t){return Array.from(t.childNodes)}(u.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();u.intro&&V(e.$$.fragment),function(t,e,o,u){const{fragment:c,on_mount:a,on_destroy:s,after_update:l}=t.$$;c&&c.m(e,o),u||A((()=>{const e=a.map(n).filter(i);s?s.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(A)}(e,u.target,u.anchor,u.customElement),H()}I(f)}function Z(t){const e=t-1;return e*e*e+1}function tt(t,{delay:e=0,duration:n=400,easing:o=Z,x:r=0,y:i=0,opacity:u=0}={}){const c=getComputedStyle(t),a=+c.opacity,s="none"===c.transform?"":c.transform,l=a*(1-u);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${s} translate(${(1-t)*r}px, ${(1-t)*i}px);\n\t\t\topacity: ${a-l*e}`}}function et(e){return{c:t,m:t,d:t}}function nt(e){return{c:t,m:t,d:t}}function ot(t){let e;return{c(){e=b("div"),e.textContent="Loading... Please wait...",w(e,"class","loading svelte-d70vcx")},m(t,n){v(t,e,n)},d(t){t&&g(e)}}}function rt(e){let n,o;return{c(){n=b("p"),n.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Pariatur, voluptates. Fugiat sapiente vero, vel aut nisi eum maxime? Corrupti totam fugit sint quisquam dolorum harum. Illo, impedit sit. Maiores amet rem quam ea ut libero delectus atque sapiente nemo, ducimus quod ipsum magni, facilis unde? In delectus quisquam ad iure."},m(t,e){v(t,n,e)},i(t){o||A((()=>{o=K(n,tt,{y:-10,duration:1e3}),o.start()}))},o:t,d(t){t&&g(n)}}}function it(e){let n,o;return{c(){n=b("p"),n.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Pariatur, voluptates. Fugiat sapiente vero, vel aut nisi eum maxime? Corrupti totam fugit sint quisquam dolorum harum. Illo, impedit sit. Maiores amet rem quam ea ut libero delectus atque sapiente nemo, ducimus quod ipsum magni, facilis unde? In delectus quisquam ad iure."},m(t,e){v(t,n,e)},i(t){o||A((()=>{o=K(n,tt,{y:-10,duration:1e3}),o.start()}))},o:t,d(t){t&&g(n)}}}function ut(e){let n,o;return{c(){n=b("p"),n.textContent="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Pariatur, voluptates. Fugiat sapiente vero, vel aut nisi eum maxime? Corrupti totam fugit sint quisquam dolorum harum. Illo, impedit sit. Maiores amet rem quam ea ut libero delectus atque sapiente nemo, ducimus quod ipsum magni, facilis unde? In delectus quisquam ad iure."},m(t,e){v(t,n,e)},i(t){o||A((()=>{o=K(n,tt,{y:-10,duration:1e3}),o.start()}))},o:t,d(t){t&&g(n)}}}function ct(e){let n,o,i,u,c,s,l,d,m,f,p,y,E,q,C,S,M,I,B,T,D,L,P,j,F,A,N,O,R,H,z,G,J,U,Y,K,W,X,Z={ctx:e,current:null,token:null,hasCatch:!1,pending:ot,then:nt,catch:et};Q(n=e[0],Z);let tt="[0]"===e[1]&&rt(),ct="[1]"===e[1]&&it(),at="[2]"===e[1]&&ut();return{c(){Z.block.c(),o=x(),i=b("div"),u=b("form"),c=b("input"),s=$(" (25kb limit)"),l=x(),d=b("button"),d.textContent="TEST",m=x(),f=b("form"),f.innerHTML='<input type="submit" value="Download Bach MIDI"/> \n    <a href="http://www.piano-midi.de/bach.htm">More</a>',p=x(),y=b("form"),y.innerHTML='<input type="submit" value="Download Beethoven MIDI"/> \n    <a href="http://www.piano-midi.de/beeth.htm">More</a>',E=x(),q=b("form"),q.innerHTML='<input type="submit" value="Download Schubert MIDI"/> \n    <a href="http://www.piano-midi.de/schub.htm">More</a>',C=x(),S=b("div"),M=b("div"),I=b("h2"),I.textContent="BACH",B=x(),T=b("img"),L=x(),tt&&tt.c(),P=x(),j=b("div"),F=b("h2"),F.textContent="BEETHOVEN",A=x(),N=b("img"),R=x(),ct&&ct.c(),H=x(),z=b("div"),G=b("h2"),G.textContent="SCHUBERT",J=x(),U=b("img"),K=x(),at&&at.c(),w(c,"type","file"),w(c,"name","file"),w(c,"accept",".mid"),w(u,"id","file-upload"),w(i,"class","container"),w(f,"method","GET"),w(f,"action","bach_847_format0.mid"),w(y,"method","GET"),w(y,"action","elise_format0.mid"),w(q,"method","GET"),w(q,"action","schu_143_2_format0.mid"),w(I,"class","svelte-d70vcx"),k(I,"mystery","[0]"!==e[1]),a(T.src,D="./Johann_Sebastian_Bach.png")||w(T,"src","./Johann_Sebastian_Bach.png"),w(T,"alt","Bach"),w(T,"class","svelte-d70vcx"),k(T,"mystery","[0]"!==e[1]),w(M,"class","bach svelte-d70vcx"),k(M,"revealed","[0]"===e[1]),w(F,"class","svelte-d70vcx"),k(F,"mystery","[1]"!==e[1]),a(N.src,O="./Beethoven_by_Stieler_2.jpg")||w(N,"src","./Beethoven_by_Stieler_2.jpg"),w(N,"alt","Beethoven"),w(N,"class","svelte-d70vcx"),k(N,"mystery","[1]"!==e[1]),w(j,"class","beethoven svelte-d70vcx"),k(j,"revealed","[1]"===e[1]),w(G,"class","svelte-d70vcx"),k(G,"mystery","[2]"!==e[1]),a(U.src,Y="./Franz_Schubert_2.jpg")||w(U,"src","./Franz_Schubert_2.jpg"),w(U,"alt","Schubert"),w(U,"class","svelte-d70vcx"),k(U,"mystery","[2]"!==e[1]),w(z,"class","schubert svelte-d70vcx"),k(z,"revealed","[2]"===e[1]),w(S,"class","composers svelte-d70vcx")},m(t,n){Z.block.m(t,Z.anchor=n),Z.mount=()=>o.parentNode,Z.anchor=o,v(t,o,n),v(t,i,n),h(i,u),h(u,c),h(u,s),v(t,l,n),v(t,d,n),v(t,m,n),v(t,f,n),v(t,p,n),v(t,y,n),v(t,E,n),v(t,q,n),v(t,C,n),v(t,S,n),h(S,M),h(M,I),h(M,B),h(M,T),h(M,L),tt&&tt.m(M,null),h(S,P),h(S,j),h(j,F),h(j,A),h(j,N),h(j,R),ct&&ct.m(j,null),h(S,H),h(S,z),h(z,G),h(z,J),h(z,U),h(z,K),at&&at.m(z,null),W||(X=[_(c,"input",e[3]),_(d,"click",e[2])],W=!0)},p(t,[o]){e=t,Z.ctx=e,1&o&&n!==(n=e[0])&&Q(n,Z),2&o&&k(I,"mystery","[0]"!==e[1]),2&o&&k(T,"mystery","[0]"!==e[1]),"[0]"===e[1]?tt?2&o&&V(tt,1):(tt=rt(),tt.c(),V(tt,1),tt.m(M,null)):tt&&(tt.d(1),tt=null),2&o&&k(M,"revealed","[0]"===e[1]),2&o&&k(F,"mystery","[1]"!==e[1]),2&o&&k(N,"mystery","[1]"!==e[1]),"[1]"===e[1]?ct?2&o&&V(ct,1):(ct=it(),ct.c(),V(ct,1),ct.m(j,null)):ct&&(ct.d(1),ct=null),2&o&&k(j,"revealed","[1]"===e[1]),2&o&&k(G,"mystery","[2]"!==e[1]),2&o&&k(U,"mystery","[2]"!==e[1]),"[2]"===e[1]?at?2&o&&V(at,1):(at=ut(),at.c(),V(at,1),at.m(z,null)):at&&(at.d(1),at=null),2&o&&k(z,"revealed","[2]"===e[1])},i(t){V(tt),V(ct),V(at)},o:t,d(t){Z.block.d(t),Z.token=null,Z=null,t&&g(o),t&&g(i),t&&g(l),t&&g(d),t&&g(m),t&&g(f),t&&g(p),t&&g(y),t&&g(E),t&&g(q),t&&g(C),t&&g(S),tt&&tt.d(),ct&&ct.d(),at&&at.d(),W=!1,r(X)}}}function at(t,e,n){let o,r="...";function i(t){n(1,r=t),document.body.style.position="relative"}return t.$$.update=()=>{1&t.$$.dirty&&(document.body.style.position=o?"fixed":"relative")},[o,r,function(){n(1,r="..."),n(0,o=async function(){let t=await fetch("./predict");i(await t.text())}())},function(t){n(1,r="..."),n(0,o=async function(t){const e=new FormData(document.querySelector("#file-upload")),n=await fetch("/upload",{method:"POST",body:e}),o=await n.text();n.ok?i(o):413===n.status?alert("Your MIDI file is too large. Please try again with a smaller file."):alert("Sorry, something went wrong. Please try again with a different file.")}())}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),X(this,t,at,ct,u,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
