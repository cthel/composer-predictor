var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function l(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),d=a?t=>requestAnimationFrame(t):t;const f=new Set;function m(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&d(m)}function h(t,e){t.appendChild(e)}function p(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function y(t){const e=b("style");return function(t,e){h(t.head||t,e)}(p(t),e),e.sheet}function g(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function x(){return $(" ")}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e,n){t.classList[n?"add":"remove"](e)}const k=new Map;let z,E=0;function C(t,e,n,o,r,s,i,c=0){const l=16.666/o;let a="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);a+=100*t+`%{${i(o,1-o)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,f=p(t),{stylesheet:m,rules:h}=k.get(f)||function(t,e){const n={stylesheet:y(e),rules:{}};return k.set(t,n),n}(f,t);h[d]||(h[d]=!0,m.insertRule(`@keyframes ${d} ${u}`,m.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${r}ms 1 both`,E+=1,d}function S(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),E-=r,E||d((()=>{E||(k.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),k.clear())})))}function B(t){z=t}function M(){if(!z)throw new Error("Function called outside component initialization");return z}const T=[],D=[],I=[],j=[],H=Promise.resolve();let L=!1;function R(t){I.push(t)}const A=new Set;let N,O=0;function P(){const t=z;do{for(;O<T.length;){const t=T[O];O++,B(t),F(t.$$)}for(B(null),T.length=0,O=0;D.length;)D.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];A.has(e)||(A.add(e),e())}I.length=0}while(T.length);for(;j.length;)j.pop()();L=!1,A.clear(),B(t)}function F(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}function q(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const G=new Set;let J;function U(t,e){t&&t.i&&(G.delete(t),t.i(e))}const V={duration:0};function K(n,o,r){let i,c,l=o(n,r),a=!1,h=0;function p(){i&&S(n,i)}function y(){const{delay:o=0,duration:r=300,easing:s=e,tick:y=t,css:g}=l||V;g&&(i=C(n,0,1,r,o,s,g,h++)),y(0,1);const v=u()+o,b=v+r;c&&c.abort(),a=!0,R((()=>q(n,!0,"start"))),c=function(t){let e;return 0===f.size&&d(m),{promise:new Promise((n=>{f.add(e={c:t,f:n})})),abort(){f.delete(e)}}}((t=>{if(a){if(t>=b)return y(1,0),q(n,!0,"end"),p(),a=!1;if(t>=v){const e=s((t-v)/r);y(e,1-e)}}return a}))}let g=!1;return{start(){g||(g=!0,S(n),s(l)?(l=l(),(N||(N=Promise.resolve(),N.then((()=>{N=null}))),N).then(y)):y())},invalidate(){g=!1},end(){a&&(p(),a=!1)}}}function Y(t,e){const n=e.token={};function o(t,o,s,i){if(e.token!==n)return;e.resolved=i;let c=e.ctx;void 0!==s&&(c=c.slice(),c[s]=i);const l=t&&(e.current=t)(c);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(J={r:0,c:[],p:J},function(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),J.c.push((()=>{G.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),J.r||r(J.c),J=J.p)})):e.block.d(1),l.c(),U(l,1),l.m(e.mount(),e.anchor),a=!0),e.block=l,e.blocks&&(e.blocks[o]=l),a&&P()}if((s=t)&&"object"==typeof s&&"function"==typeof s.then){const n=M();if(t.then((t=>{B(n),o(e.then,1,e.value,t),B(null)}),(t=>{if(B(n),o(e.catch,2,e.error,t),B(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var s}function Q(t,e){-1===t.$$.dirty[0]&&(T.push(t),L||(L=!0,H.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(e,i,c,l,a,u,d,f=[-1]){const m=z;B(e);const h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(m?m.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:i.target||m.$$.root};d&&d(h.root);let p=!1;if(h.ctx=c?c(e,i.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&Q(e,t)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!l&&l(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(v)}else h.fragment&&h.fragment.c();i.intro&&U(e.$$.fragment),function(t,e,o,i){const{fragment:c,on_mount:l,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,o),i||R((()=>{const e=l.map(n).filter(s);a?a.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(R)}(e,i.target,i.anchor,i.customElement),P()}B(m)}function X(t){const e=t-1;return e*e*e+1}function Z(t,{delay:e=0,duration:n=400,easing:o=X,x:r=0,y:s=0,opacity:i=0}={}){const c=getComputedStyle(t),l=+c.opacity,a="none"===c.transform?"":c.transform,u=l*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${l-u*e}`}}function tt(e){return{c:t,m:t,d:t}}function et(e){return{c:t,m:t,d:t}}function nt(t){let e;return{c(){e=b("div"),e.textContent="Loading... Please wait...",_(e,"class","loading svelte-xr8siz")},m(t,n){g(t,e,n)},d(t){t&&v(e)}}}function ot(e){let n,o;return{c(){n=b("p"),n.innerHTML="That sounds like <strong>Bach</strong>.\n            <br/><br/>\n            Bach lived from 1685 to 1750 and composed during the <strong>Baroque</strong> period.\n            <br/><br/>\n            Contemporaries include: Handel, Scarlatti, Vivaldi",_(n,"class","svelte-xr8siz")},m(t,e){g(t,n,e)},i(t){o||R((()=>{o=K(n,Z,{y:-10,duration:1e3}),o.start()}))},o:t,d(t){t&&v(n)}}}function rt(e){let n,o;return{c(){n=b("p"),n.innerHTML="That sounds like <strong>Beethoven</strong>.\n            <br/><br/>\n            Beethoven lived from 1770 to 1827 and composed during the <strong>Classical</strong> period.\n            <br/><br/>\n            Contemporaries include: Boccherini, Haydn, Mozart",_(n,"class","svelte-xr8siz")},m(t,e){g(t,n,e)},i(t){o||R((()=>{o=K(n,Z,{y:-10,duration:1e3}),o.start()}))},o:t,d(t){t&&v(n)}}}function st(e){let n,o;return{c(){n=b("p"),n.innerHTML="That sounds like <strong>Schubert</strong>.\n            <br/><br/>\n            Schubert lived from 1797 to 1828 and composed during the <strong>Romantic</strong> period.\n            <br/><br/>\n            Contemporaries include: Chopin, Mendelssohn, Schumann",_(n,"class","svelte-xr8siz")},m(t,e){g(t,n,e)},i(t){o||R((()=>{o=K(n,Z,{y:-10,duration:1e3}),o.start()}))},o:t,d(t){t&&v(n)}}}function it(e){let n,o,r,s,i,c,a,u,d,f,m,p,y,k,z,E,C,S,B,M,T,D,I,j,H,L,R,A,N,O,P,F,q,G,J,V={ctx:e,current:null,token:null,hasCatch:!1,pending:nt,then:et,catch:tt};Y(n=e[0],V);let K="[0]"===e[1]&&ot(),Q="[1]"===e[1]&&rt(),W="[2]"===e[1]&&st();return{c(){V.block.c(),o=x(),r=b("div"),s=b("form"),i=b("label"),c=b("strong"),c.textContent="Upload a MIDI (.mid) file:",a=x(),u=b("input"),d=$("\n            (25KB limit)"),f=x(),m=b("div"),m.innerHTML='<form method="GET" action="bach_847_format0.mid" class="svelte-xr8siz"><input type="submit" value="Download Bach MIDI"/> \n        <a href="http://www.piano-midi.de/bach.htm">More...</a></form> \n    <form method="GET" action="elise_format0.mid" class="svelte-xr8siz"><input type="submit" value="Download Beethoven MIDI"/> \n        <a href="http://www.piano-midi.de/beeth.htm">More...</a></form> \n    <form method="GET" action="schu_143_2_format0.mid" class="svelte-xr8siz"><input type="submit" value="Download Schubert MIDI"/> \n        <a href="http://www.piano-midi.de/schub.htm">More...</a></form>',p=x(),y=b("div"),k=b("div"),z=b("h2"),z.textContent="BACH",E=x(),C=b("img"),B=x(),K&&K.c(),M=x(),T=b("div"),D=b("h2"),D.textContent="BEETHOVEN",I=x(),j=b("img"),L=x(),Q&&Q.c(),R=x(),A=b("div"),N=b("h2"),N.textContent="SCHUBERT",O=x(),P=b("img"),q=x(),W&&W.c(),_(u,"type","file"),_(u,"name","file"),_(u,"accept",".mid"),_(s,"id","file-upload"),_(s,"class","svelte-xr8siz"),_(r,"class","container svelte-xr8siz"),_(m,"class","downloads svelte-xr8siz"),_(z,"class","svelte-xr8siz"),w(z,"mystery","[0]"!==e[1]),l(C.src,S="./Johann_Sebastian_Bach.png")||_(C,"src","./Johann_Sebastian_Bach.png"),_(C,"alt","Bach"),_(C,"class","svelte-xr8siz"),w(C,"mystery","[0]"!==e[1]),_(k,"class","bach svelte-xr8siz"),w(k,"revealed","[0]"===e[1]),_(D,"class","svelte-xr8siz"),w(D,"mystery","[1]"!==e[1]),l(j.src,H="./Beethoven_by_Stieler_2.jpg")||_(j,"src","./Beethoven_by_Stieler_2.jpg"),_(j,"alt","Beethoven"),_(j,"class","svelte-xr8siz"),w(j,"mystery","[1]"!==e[1]),_(T,"class","beethoven svelte-xr8siz"),w(T,"revealed","[1]"===e[1]),_(N,"class","svelte-xr8siz"),w(N,"mystery","[2]"!==e[1]),l(P.src,F="./Franz_Schubert_2.jpg")||_(P,"src","./Franz_Schubert_2.jpg"),_(P,"alt","Schubert"),_(P,"class","svelte-xr8siz"),w(P,"mystery","[2]"!==e[1]),_(A,"class","schubert svelte-xr8siz"),w(A,"revealed","[2]"===e[1]),_(y,"class","composers svelte-xr8siz")},m(t,n){var l,v,b,$;V.block.m(t,V.anchor=n),V.mount=()=>o.parentNode,V.anchor=o,g(t,o,n),g(t,r,n),h(r,s),h(s,i),h(i,c),h(i,a),h(i,u),h(i,d),g(t,f,n),g(t,m,n),g(t,p,n),g(t,y,n),h(y,k),h(k,z),h(k,E),h(k,C),h(k,B),K&&K.m(k,null),h(y,M),h(y,T),h(T,D),h(T,I),h(T,j),h(T,L),Q&&Q.m(T,null),h(y,R),h(y,A),h(A,N),h(A,O),h(A,P),h(A,q),W&&W.m(A,null),G||(l=u,v="input",b=e[2],l.addEventListener(v,b,$),J=()=>l.removeEventListener(v,b,$),G=!0)},p(t,[o]){e=t,V.ctx=e,1&o&&n!==(n=e[0])&&Y(n,V),2&o&&w(z,"mystery","[0]"!==e[1]),2&o&&w(C,"mystery","[0]"!==e[1]),"[0]"===e[1]?K?2&o&&U(K,1):(K=ot(),K.c(),U(K,1),K.m(k,null)):K&&(K.d(1),K=null),2&o&&w(k,"revealed","[0]"===e[1]),2&o&&w(D,"mystery","[1]"!==e[1]),2&o&&w(j,"mystery","[1]"!==e[1]),"[1]"===e[1]?Q?2&o&&U(Q,1):(Q=rt(),Q.c(),U(Q,1),Q.m(T,null)):Q&&(Q.d(1),Q=null),2&o&&w(T,"revealed","[1]"===e[1]),2&o&&w(N,"mystery","[2]"!==e[1]),2&o&&w(P,"mystery","[2]"!==e[1]),"[2]"===e[1]?W?2&o&&U(W,1):(W=st(),W.c(),U(W,1),W.m(A,null)):W&&(W.d(1),W=null),2&o&&w(A,"revealed","[2]"===e[1])},i(t){U(K),U(Q),U(W)},o:t,d(t){V.block.d(t),V.token=null,V=null,t&&v(o),t&&v(r),t&&v(f),t&&v(m),t&&v(p),t&&v(y),K&&K.d(),Q&&Q.d(),W&&W.d(),G=!1,J()}}}function ct(t,e,n){let o,r;return t.$$.update=()=>{1&t.$$.dirty&&(document.body.style.position=r?"fixed":"relative")},[r,o,function(){n(1,o=null),n(0,r=async function(){const t=new FormData(document.querySelector("#file-upload")),e=await fetch("/upload",{method:"POST",body:t}),r=await e.text();e.ok?(s=r,n(1,o=s),document.body.style.position="relative"):413===e.status?alert("Your MIDI file is too large. Please try again with a smaller file."):alert("Sorry, something went wrong. Please try again with a different file.");var s}())}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),W(this,t,ct,it,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
